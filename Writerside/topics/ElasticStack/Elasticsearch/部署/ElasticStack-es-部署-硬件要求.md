# 硬件要求

当要部署 Elasticsearch 到生产环境时，有一些建议需要考虑的。

## 内存

内存建议64G, 一半给堆内存, 一半给Lucene

因为 Lucene 使用的许多数据结构是基于磁盘的格式，Elasticsearch 会利用操作系统得缓存。

但是32 GB 和16 GB 机器也是很常见的。少于8 GB 会适得其反（你最终需要很多很多的小机器），大于64 GB 的机器也会有问题, 比如 "内存压缩"

## CPUs

大多数 Elasticsearch 部署往往对 CPU 要求不高。

常见的集群使用两到八个核的机器。

如果你要在更快的 CPUs 和更多的核心之间选择，选择更多的核心更好。多个内核提供的额外并发远胜过稍微快一点点的时钟频率。

## 硬盘

硬盘对集群的访问速度与写入速度还是影响非常大的, 最好使用SSD, 因为速度快, 使用SSD查询和索引性能都有提升.

<procedure title="检查 I/O 调度程序" id="ssd_io">
<note>如果使用SSD的话, 需要检查 I/O 调度程序, 在大多数的linux发行版下, 都对机械硬盘进行了优化, 但是这些优化对SSD来说来说一般都是负优化</note>
</procedure>

如果使用网络附加存储(NAS), 或者nfs还需要考虑在配置时使用基于内存缓存的文件打开器,  用于缓存Segment.

通常在企业中通常会使用磁盘阵列, 磁盘阵列也有几种类型, 使用磁盘阵列时和使用正常的磁盘没区别, 不需要配置其他的东西.

## 网络

快速可靠的网络显然对分布式系统的性能是很重要的.
低延时能帮助确保节点间能容易的通讯，大带宽能帮助分片移动和恢复。
现代数据中心网络（1 GbE, 10 GbE）对绝大多数集群都是足够的。

Elasticsearch 假定所有节点都是平等的--并不会因为有一半的节点在150ms 外的另一数据中心而有所不同。更大的延时会加重分布式系统中的问题而且使得调试和排错更困难。


## 总则

获取真正的高配机器在今天是可能的： 成百 GB 的 RAM 和几十个 CPU 核心。 

反之，在云平台上串联起成千的小虚拟机也是可能的，例如 EC2。哪种方式是最好的?

通常，选择中配或者高配机器更好。避免使用低配机器， 因为你不会希望去管理拥有上千个节点的集群，而且在这些低配机器上运行 Elasticsearch 的开销也是显著的。

与此同时，避免使用超高配机器。它们通常会导致资源使用不均衡（例如，所有的内存都被使用，但 CPU 却没有）而且在单机上运行多个节点时，会增加逻辑复杂度。

